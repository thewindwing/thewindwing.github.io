<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    风之翼
  
</title>

<meta property="og:type" content="website">
<meta property="og:title" content="风之翼">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="风之翼">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="风之翼">


  <link rel="alternative" href="/atom.xml" title="风之翼" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">风之翼</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">风之翼</a></h1>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">wing</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/"><img src="/img/QQ20130141837.png"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">Category</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Express-js/">Express.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ajax/">ajax</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/angularjs/">angularjs</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/border相关属性/">border相关属性</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/call、apply和bind/">call、apply和bind</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/this/">this</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web适配/">web适配</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/伪数组转数组/">伪数组转数组</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/函数原型链/">函数原型链</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/函数提升中的bug/">函数提升中的bug</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/函数的自定义方式/">函数的自定义方式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/动态创建元素/">动态创建元素</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/原型链继承/">原型链继承</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/同源和跨域请求/">同源和跨域请求</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/插件/">插件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/搜索访问机制/">搜索访问机制</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/构造函数/">构造函数</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/检测数据类型/">检测数据类型</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则表达式/">正则表达式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/深拷贝和浅拷贝/">深拷贝和浅拷贝</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/继承/">继承</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/获取元素位置/">获取元素位置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/获取自定义属性/">获取自定义属性</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设置元素的尺寸/">设置元素的尺寸</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/选择器总结/">选择器总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/闭包/">闭包</a><span class="category-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angularjs/">angularjs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数/">函数</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插件/">插件</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">15</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones/hexo-theme-chan" title="Chan" target="_blank" rel="external">Chan</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/denjones" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/09/07/设置和获取对象尺寸的方法/" >
  获取和设置元素的尺寸
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/09/07/设置和获取对象尺寸的方法/"><span class="article-date">
  2017-09-07
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/设置元素的尺寸/">设置元素的尺寸</a></li></ul>
	</span>


        

      </div>
      <div class="article-entry">
        
          <h3 id="javascript中获取元素的尺寸"><a href="#javascript中获取元素的尺寸" class="headerlink" title="javascript中获取元素的尺寸"></a>javascript中获取元素的尺寸</h3><h4 id="获取元素的尺寸"><a href="#获取元素的尺寸" class="headerlink" title="获取元素的尺寸"></a>获取元素的尺寸</h4><ul>
<li>当元素的尺寸设置的是行内样式时，可以用element.style.width和element.style.height直接获取<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span> style=<span class="string">'width:100px;height:50px;'</span>&gt;<span class="number">123456</span>&lt;<span class="regexp">/div&gt;   </span></div><div class="line"><span class="regexp">  &lt;script&gt;</span></div><div class="line"><span class="regexp"> var div=document.querySelector('.box');</span></div><div class="line"><span class="regexp">    console.log(div.style.width,div.style.height); /</span><span class="regexp">/ '100px' '50px'   </span></div><div class="line"><span class="regexp">  &lt;/</span>script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/09/07/设置和获取类样式的方法/" >
  
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/09/07/设置和获取类样式的方法/"><span class="article-date">
  2017-09-07
</span>
</a>
        

        

      </div>
      <div class="article-entry">
        
          
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/02/20/express/" >
  Express.js
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/02/20/express/"><span class="article-date">
  2017-02-20
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Express-js/">Express.js</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h2 id="什么是Express-js"><a href="#什么是Express-js" class="headerlink" title="什么是Express.js"></a>什么是Express.js</h2><ol>
<li>Express 是一个基于 Node.js 平台的极简、灵活的 web 应用开发框架；</li>
<li>Express 不对 Node.js 已有的特性进行二次抽象，只是在Node.js之上扩展了构建 Web 应用所需的基本功能。</li>
</ol>
<blockquote>
<p>总结什么是Express.js：是一个基于Node.js的Web开发框架。Express框架并没有覆盖或删除原生的API，而是基于原生的API，做了进一步的封装，提供了更好用的一些API，方便快速进行Web开发！<br>res.render、res.json、res.redirect、req.query<br>Node.js是Javascript的服务器端运行环境！express只是基于Node，提供了开发Web应用的框架和API。</p>
</blockquote>
<h2 id="如何创建基本的HTTP服务（新旧方式对比）"><a href="#如何创建基本的HTTP服务（新旧方式对比）" class="headerlink" title="如何创建基本的HTTP服务（新旧方式对比）"></a>如何创建基本的HTTP服务（新旧方式对比）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var express = require(&apos;express&apos;);</div><div class="line"></div><div class="line">// 创建一个 app 出来</div><div class="line">var app = express();</div><div class="line"></div><div class="line">// 捕获 get 类型的 / 请求</div><div class="line">app.get(&apos;/&apos;, function (req, res) &#123;</div><div class="line">  // 支持原生的 end 方法</div><div class="line">  res.end(&apos;OK&apos;);</div><div class="line">&#125;);</div><div class="line">// 捕获 get 类型的 /a 请求</div><div class="line">app.get(&apos;/a&apos;, function (req, res) &#123;</div><div class="line">  // 通过 express 封装的 send 方法，返回内容，会自动添加响应头，更加方便便捷</div><div class="line">  res.send(&apos;&lt;h1&gt;你好啊&lt;/h1&gt;&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 启动 app 监听程序</div><div class="line">app.listen(3000, function () &#123;</div><div class="line">  console.log(&apos;App running at http://127.0.0.1:3000&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="http模块原生end方法和-express中send方法的对比"><a href="#http模块原生end方法和-express中send方法的对比" class="headerlink" title="http模块原生end方法和 express中send方法的对比"></a>http模块原生<code>end</code>方法和 express中<code>send</code>方法的对比</h2><ol>
<li>send方法中默认处理了中文乱码问题</li>
<li>send方法默认返回的格式就是HTML类型的文本内容</li>
</ol>
<h2 id="根据不同的路由method和url响应不同的文本消息"><a href="#根据不同的路由method和url响应不同的文本消息" class="headerlink" title="根据不同的路由method和url响应不同的文本消息"></a>根据不同的路由<code>method</code>和<code>url</code>响应不同的文本消息</h2><h2 id="根据不同的路由method和url响应不同的html页面"><a href="#根据不同的路由method和url响应不同的html页面" class="headerlink" title="根据不同的路由method和url响应不同的html页面"></a>根据不同的路由<code>method</code>和<code>url</code>响应不同的html页面</h2><ol>
<li>res.sendFile</li>
</ol>
<h2 id="分别从原生和express的app-js中抽离router路由模块"><a href="#分别从原生和express的app-js中抽离router路由模块" class="headerlink" title="分别从原生和express的app.js中抽离router路由模块"></a>分别从原生和express的<code>app.js</code>中抽离<code>router</code>路由模块</h2><h2 id="Express中的路由"><a href="#Express中的路由" class="headerlink" title="Express中的路由"></a>Express中的路由</h2><h2 id="中间件的概念"><a href="#中间件的概念" class="headerlink" title="中间件的概念"></a>中间件的概念</h2><p>在自来水的处理过程中，中间的每一个处理环节，可以叫做中间件！<br>中间件就是用来处理原材料的，那么，在自来水处理过程中，处理的原料是水；在express中，中间件处理的原料是 request 对象 和 response 对象；<br>![自来水处理过程]Express/自来水处理过程.jpg)</p>
<p><strong>概念：</strong>中间件（Middleware） <strong>是一个函数</strong>，它可以访问<strong>请求对象</strong>（request object (req)）, <strong>响应对象</strong>（response object (res)）, 和 web 应用中处于请求-响应循环流程中的中间件，一般被命名为 next 的变量。</p>
<p>经过中间件的处理之后，express就向 req 和 res ,对象身上，挂在了一些好用的方法和属性<br>req.query<br>res.send()<br>res.json()</p>
<ul>
<li>中间件的功能包括：<ul>
<li>执行任何代码。</li>
<li>修改请求和响应对象。</li>
<li>终结请求-响应循环。</li>
<li>调用堆栈中的下一个中间件。</li>
</ul>
</li>
</ul>
<h2 id="body-parser-中间件的使用步骤"><a href="#body-parser-中间件的使用步骤" class="headerlink" title="body-parser 中间件的使用步骤"></a>body-parser 中间件的使用步骤</h2><p>在 express 中，可以使用 body-parser 第三方中间件，去帮我们出去 post 提交过来的数据</p>
<ol>
<li>使用 npm 安装</li>
<li>导入 这个第三方中间件 模块</li>
<li>使用 app.use()注册刚才导入的中间件，到 app身上</li>
</ol>
<h2 id="Express-里中间件的分类（形式上的分类）"><a href="#Express-里中间件的分类（形式上的分类）" class="headerlink" title="Express 里中间件的分类（形式上的分类）"></a>Express 里中间件的分类（形式上的分类）</h2><ol>
<li>应用级别的中间件： 所有挂载到 app 身上的方法，都叫做 “应用级别的中间件”  app.get  app.post  app.use</li>
<li>路由级别的中间件： 挂载到了 router 对象上，这个 router 对象 是经过调用 <code>express.Router()</code> 得到了；    router.get    router.post   router.use</li>
<li>错误处理中间件: 有四个参数   err, req, res, next</li>
<li>express唯一的一个内置中间件： express.static(root, [options]) 用于托管静态资源</li>
<li>第三方中间件： 非Express官方提供的中间件，叫做第三方中间件</li>
</ol>
<h2 id="在Express中使用路由"><a href="#在Express中使用路由" class="headerlink" title="在Express中使用路由"></a>在Express中使用路由</h2><ol>
<li><p>定义路由的 <code>router</code> 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var express = require(&apos;express&apos;);</div><div class="line">// 使用 express 的 Router() 方法，得到一个路由实例</div><div class="line">var router = express.Router();</div><div class="line"></div><div class="line">// 通过 Method 和 请求路径，分发不同的请求到不同的处理函数中</div><div class="line">router.get(&apos;/&apos;, function (req, res) &#123;</div><div class="line">  res.send(&apos;&lt;h1&gt;首页&lt;/h1&gt;&apos;);</div><div class="line">&#125;).get(&apos;/movie&apos;, function (req, res) &#123;</div><div class="line">  res.send(&apos;&lt;h1&gt;电影&lt;/h1&gt;&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">module.exports = router;</div></pre></td></tr></table></figure>
</li>
<li><p>导入路由并注册使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var express = require(&apos;express&apos;);</div><div class="line">// 导入路由</div><div class="line">var router = require(&apos;./router&apos;);</div><div class="line"></div><div class="line">// 创建一个 app 出来</div><div class="line">var app = express();</div><div class="line">// 注册路由</div><div class="line">app.use(router);</div><div class="line"></div><div class="line">// 启动 app 监听程序</div><div class="line">app.listen(3000, function () &#123;</div><div class="line">  console.log(&apos;App running at http://127.0.0.1:3000&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="在express中使用模板引擎"><a href="#在express中使用模板引擎" class="headerlink" title="在express中使用模板引擎"></a>在express中使用模板引擎</h2><p><code>ejs</code>默认的模板文件后缀名是<code>.ejs</code>，如果你想让<code>ejs</code>模板引擎的默认后缀名是<code>.html</code>，需要进行相关的设置</p>
<h3 id="使用ejs"><a href="#使用ejs" class="headerlink" title="使用ejs"></a>使用ejs</h3><ol>
<li><p>运行npm安装<code>ejs</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cnpm i ejs -S</div></pre></td></tr></table></figure>
</li>
<li><p>注册模板引擎：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.set(&apos;view engine&apos;, &apos;ejs&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>同时，也可以修改默认的模板文件存放路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.set(&apos;views&apos;, __dirname + &apos;/views&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>使用ejs将模板渲染出来，同时将渲染的结果发送给客户端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.render(&apos;模板名称&apos;, &#123;&#125;); // 第一个参数是模板的名称，第二个参数是模板要渲染的数据</div></pre></td></tr></table></figure>
</li>
</ol>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// node.js调用render函数</div><div class="line">res.render(&apos;hero_index&apos;, &#123;</div><div class="line">        username: &apos;尼古拉斯·赵四&apos;,</div><div class="line">        hobby: [&apos;吃饭&apos;, &apos;唱歌&apos;, &apos;打电话&apos;],</div><div class="line">        isShow: false</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>html模板字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;h1 style=&quot;color:&lt;%= !isShow?&apos;red&apos;:&apos;&apos; %&gt;;&quot;&gt;这是EJS的模板页面 - &lt;%= username %&gt;&lt;/h1&gt;</div><div class="line">    &lt;% if(!isShow)&#123; %&gt;</div><div class="line">    &lt;h3&gt;这是一个漂亮的h3标题&lt;/h3&gt;</div><div class="line">    &lt;% &#125; %&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">        &lt;% hobby.forEach(function(item, i)&#123; %&gt;</div><div class="line">        &lt;li&gt;&lt;%= item %&gt;&lt;/li&gt;</div><div class="line">        &lt;% &#125;) %&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<ol>
<li><p>如何修改ejs的定界符:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 导入 EJS 并修改定界符</div><div class="line">var ejs = require(&apos;ejs&apos;);</div><div class="line">ejs.delimiter = &apos;?&apos;;</div><div class="line"></div><div class="line">app.engine(&apos;ejs&apos;, ejs.renderFile);</div><div class="line">// 设置完毕之后，在调用res.render()函数的时候，模板文件必须带后缀名</div></pre></td></tr></table></figure>
</li>
<li><p>如何使用公共模板：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;!--导入公共的头部--&gt;</div><div class="line">&lt;?- include(&apos;header&apos;) ?&gt;</div><div class="line"></div><div class="line">&lt;h1&gt;ejs&lt;/h1&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">  &lt;? names.forEach(function(item)&#123; ?&gt;</div><div class="line">    &lt;li&gt;&lt;?= item ?&gt;&lt;/li&gt;</div><div class="line">  &lt;? &#125;) ?&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">&lt;!--导入公共的底部--&gt;</div><div class="line">&lt;?- include(&apos;footer&apos;) ?&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="external">MDN - JSON.stringify()</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader" target="_blank" rel="external">MDN - FileReader</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FormData" target="_blank" rel="external">MDN - FormData</a></li>
<li><a href="http://www.expressjs.com.cn/" target="_blank" rel="external">Express - 中文网</a></li>
<li><a href="http://expressjs.com/" target="_blank" rel="external">Express - 英文官网</a></li>
<li><a href="http://www.runoob.com/nodejs/nodejs-tutorial.html" target="_blank" rel="external">Node.js 教程</a></li>
<li><a href="https://www.runoob.com/w3cnote/express-4-x-api.html" target="_blank" rel="external">菜鸟教程 - Express 4.x API 中文文档</a></li>
<li><a href="https://blog.gtwang.org/programming/learn-to-use-the-new-router-in-expressjs-4/" target="_blank" rel="external">Express.js 4.0 的路由（Router）功能用法教學</a></li>
<li><a href="https://github.com/aui/art-template" target="_blank" rel="external">github - art-template</a></li>
<li><a href="https://github.com/aui/express-art-template" target="_blank" rel="external">github - express-art-template</a></li>
<li><a href="https://github.com/mde/ejs" target="_blank" rel="external">github - ejs</a></li>
</ul>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/02/12/nodeJS04/" >
  Node.js - Day4
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/02/12/nodeJS04/"><span class="article-date">
  2017-02-12
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Node-js/">Node.js</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h2 id="清楚前端开发和后端开发的不同"><a href="#清楚前端开发和后端开发的不同" class="headerlink" title="清楚前端开发和后端开发的不同"></a>清楚前端开发和后端开发的不同</h2><ol>
<li><p>在学习前端开发的时候，并不会刻意关心<code>请求 - 处理 - 响应</code> 模型，好像认为浏览器中一切能看到的页面、样式、JS、图片，都是理所当然的，只要我在页面中引用某些资源，在浏览器中必然会看到这个资源！（<strong>实际情况真的是这样吗???</strong>）</p>
</li>
<li><p>在学习后端开发的时候，首先要了解 HTTP 协议的 <code>请求 - 处理 - 响应</code> 模型；</p>
<ul>
<li><strong>请求：</strong> 浏览器中显示的任何HTML页面、JS、CSS、图片、API接口，都需要通过网络，去请求后端服务器！</li>
<li><strong>处理：</strong>前端的资源请求，必然通过网络去请求后台服务器，服务器在接收到请求之后，必然有一个处理的过程，（比如读取文件、调用数据库、后端渲染模板页面等），如果前端请求的URL地址，后端没有做对应的处理，则前端肯定拿不到想要的资源；</li>
<li><strong>响应：</strong>当后端把前端请求的资源处理好之后，会通过网络把资源发送给前端去解析、显示；</li>
</ul>
</li>
<li><p>经过上述的分析，我们可以得出结论：</p>
<ul>
<li>后端服务器是Web服务的核心；如果没有服务器，前端根本获取不到任何内容；</li>
<li>如果前端请求的资源路径，后台服务器没有做对应的处理，则前端是获取不到该资源的！</li>
</ul>
</li>
</ol>
<h2 id="Node阶段思想转变"><a href="#Node阶段思想转变" class="headerlink" title="Node阶段思想转变"></a>Node阶段思想转变</h2><ol>
<li><strong>浏览器中看到的任何页面和静态资源，都是Node服务器代码处理并返回的结果</strong>！</li>
<li>只要是资源，必然会涉及到 <code>请求 - 处理 - 响应</code> 三个过程！</li>
<li>浏览器中一个页面的请求过程：<code>浏览器请求页面 -&gt; Node服务器处理该请求并返回 -&gt; 浏览器加载解析页面HTML结构和JS代码 -&gt; 解析过程中发起静态资源的二次请求 -&gt; 服务器处理这些二次资源请求　－&gt; 页面加载解析完毕后正常显示</code></li>
</ol>
<h2 id="优化文件列表案例"><a href="#优化文件列表案例" class="headerlink" title="优化文件列表案例"></a>优化文件列表案例</h2><h2 id="回调函数（回顾）"><a href="#回调函数（回顾）" class="headerlink" title="回调函数（回顾）"></a>回调函数（回顾）</h2><h2 id="构建基本的英雄列表案例结构"><a href="#构建基本的英雄列表案例结构" class="headerlink" title="构建基本的英雄列表案例结构"></a>构建基本的英雄列表案例结构</h2><h2 id="将代码进行模块化处理"><a href="#将代码进行模块化处理" class="headerlink" title="将代码进行模块化处理"></a>将代码进行模块化处理</h2><ul>
<li>抽离<code>render</code>模块</li>
<li>抽离<code>router</code>模块</li>
<li>抽离<code>handler</code>模块</li>
<li>抽离<code>model</code>模块</li>
</ul>
<h2 id="Ajax异步post提交英雄表单数据"><a href="#Ajax异步post提交英雄表单数据" class="headerlink" title="Ajax异步post提交英雄表单数据"></a>Ajax异步post提交英雄表单数据</h2><h2 id="使用querystring模块解析表单Post提交的数据"><a href="#使用querystring模块解析表单Post提交的数据" class="headerlink" title="使用querystring模块解析表单Post提交的数据"></a>使用<code>querystring</code>模块解析表单Post提交的数据</h2><h2 id="处理查看info页面"><a href="#处理查看info页面" class="headerlink" title="处理查看info页面"></a>处理查看info页面</h2><h3 id="使用url核心模块解析处理客户端请求的URL地址"><a href="#使用url核心模块解析处理客户端请求的URL地址" class="headerlink" title="使用url核心模块解析处理客户端请求的URL地址"></a>使用<code>url</code>核心模块解析处理客户端请求的URL地址</h3><h2 id="英雄信息的编辑功能"><a href="#英雄信息的编辑功能" class="headerlink" title="英雄信息的编辑功能"></a>英雄信息的编辑功能</h2><h2 id="302重定向"><a href="#302重定向" class="headerlink" title="302重定向"></a>302重定向</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">res.writeHeader(302, &#123; &apos;Location&apos;: &apos;/&apos; &#125;);</div><div class="line">res.end();</div></pre></td></tr></table></figure>
<h2 id="封装res-json方法和res-redirect方法"><a href="#封装res-json方法和res-redirect方法" class="headerlink" title="封装res.json方法和res.redirect方法"></a>封装<code>res.json</code>方法和<code>res.redirect</code>方法</h2><h2 id="删除英雄信息"><a href="#删除英雄信息" class="headerlink" title="删除英雄信息"></a>删除英雄信息</h2>
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/02/10/插件总结/" >
  插件
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/02/10/插件总结/"><span class="article-date">
  2017-02-10
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/插件/">插件</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/插件/">插件</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h3 id="1-iscroll-js插件"><a href="#1-iscroll-js插件" class="headerlink" title="1. iscroll.js插件"></a>1. iscroll.js插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> IScroll(rightBox,&#123;<span class="comment">//rightBox为手势容器</span></div><div class="line">    scrollY: <span class="literal">true</span>,</div><div class="line">    scrollX:<span class="literal">false</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="2-datepicker日历bootstrap插件—jQuery"><a href="#2-datepicker日历bootstrap插件—jQuery" class="headerlink" title="2. datepicker日历bootstrap插件—jQuery"></a>2. datepicker日历bootstrap插件—jQuery</h3><ul>
<li>引入<ul>
<li>css文件<code>bootstrap-datepicker.css</code></li>
<li>js文件：<code>bootstrap-datepicker.js</code></li>
<li>语言文件:<code>bootstrap-datepicker.zh-CN.min.js</code></li>
</ul>
</li>
<li>语法–只需定义类名<ul>
<li><code>&lt;input type=&quot;text&quot; value=&quot;&quot; class=&quot;form-control input-sm&quot; name=&quot;tc_birthday&quot; data-provide=&quot;datepicker&quot; data-date-language=&quot;zh-CN&quot; data-date-format=&quot;yyyy-mm-dd&quot;&gt;</code></li>
<li>data-provide=”datepicker”：显示日历效果</li>
<li>data-date-language：定义语言</li>
<li>data-date-format=”yyyy-mm-dd：定义时间格式</li>
</ul>
</li>
<li>language时非标准模块<ul>
<li><code>shim:{language:{deps:[&#39;jquery&#39;,&#39;bootstrap&#39;]}}</code>依赖jQuery和bootstrap</li>
</ul>
</li>
</ul>
<h3 id="3-validate-表单验证插件—jQuery"><a href="#3-validate-表单验证插件—jQuery" class="headerlink" title="3. validate 表单验证插件—jQuery"></a>3. validate 表单验证插件—jQuery</h3><ul>
<li>引入文件<ul>
<li><code>jquery-validate.js</code></li>
</ul>
</li>
<li>语法<ul>
<li>调用valiadate()方法<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#categoryForm'</span>).validate(&#123;</div><div class="line">      sendForm:<span class="literal">false</span>,<span class="comment">//阻止默认表单提交 必须是submit按钮</span></div><div class="line">      description:&#123;<span class="comment">//提示信息</span></div><div class="line">         joinInfo:&#123;</div><div class="line">              required:<span class="string">'不能为空'</span>,</div><div class="line">              pattern:<span class="string">'必须是数字'</span></div><div class="line">          &#125;</div><div class="line">      &#125;,</div><div class="line">      valid:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//验证都通过时调用</span></div><div class="line">          $(<span class="keyword">this</span>).ajaxSubmit(&#123;<span class="comment">//form插件提交 提交按钮submit不需要注册点击事件</span></div><div class="line">              type:<span class="string">'post'</span>,</div><div class="line">              url:url,</div><div class="line">              data:data,<span class="comment">//form表单额外要提交的数据，默认表单数据自动提交</span></div><div class="line">              dataType:<span class="string">'json'</span>,</div><div class="line">              success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">                  <span class="built_in">console</span>.log(data);</div><div class="line">                  <span class="keyword">if</span>(data.code==<span class="number">200</span>)&#123;</div><div class="line">                      location.href=<span class="string">'/category/list'</span>;</div><div class="line">                  &#125;</div><div class="line">              &#125;</div><div class="line">          &#125;)</div><div class="line">      &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-4"</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control input-sm"</span> <span class="attr">name</span>=<span class="string">"tc_join_date"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;tc_join_date&#125;&#125;"</span> <span class="attr">data-required</span> <span class="attr">data-describedby</span>=<span class="string">"join-date"</span> <span class="attr">data-description</span>=<span class="string">"joininfo"</span> <span class="attr">data-pattern</span>=<span class="string">''</span>&gt;</span></div><div class="line">     <span class="comment">&lt;!-- data-required:必须输入 --&gt;</span></div><div class="line">     <span class="comment">&lt;!-- data-description='提示信息' --&gt;</span></div><div class="line">     <span class="comment">&lt;!-- data-describedby='提示信息所在位置的id值' --&gt;</span></div><div class="line">     <span class="comment">&lt;!--data-pattern=''  --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"join-date"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- 提示信息所在位置 --&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>不是标准模块<ul>
<li><code>shim:{validate:{ deps:[&#39;jquery&#39;]}}</code></li>
</ul>
</li>
</ul>
<h3 id="4-form表单提交插件—jQuery"><a href="#4-form表单提交插件—jQuery" class="headerlink" title="4. form表单提交插件—jQuery"></a>4. form表单提交插件—jQuery</h3><ul>
<li>引入JS文件<code>jquery.form.js</code></li>
<li>是标准模块</li>
<li>语法见上<ul>
<li>调用ajaxSubmit()方法</li>
</ul>
</li>
<li>提交按钮必须是submit表单元素，且JS代码提交时<strong>不需要注册点击事件</strong>，直接调用ajaxSubmit()方法即可</li>
</ul>
<h3 id="5-uploadify-文件上传插件—-jQuery"><a href="#5-uploadify-文件上传插件—-jQuery" class="headerlink" title="5. uploadify 文件上传插件—-jQuery"></a>5. uploadify 文件上传插件—-jQuery</h3><ul>
<li>引入JS文件 <code>uploadify.min.js</code></li>
<li>非标准模块·<code>shim{uplaodify:{deps:[&#39;jquery&#39;]}}</code></li>
<li><p>语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//图片上传按钮的id </span></div><div class="line">$(<span class="string">'#myFile'</span>).uploadify(&#123;                   </div><div class="line">  swf:<span class="string">'/public/assets/uploadify/uploadify.swf'</span>,<span class="comment">//flash文件</span></div><div class="line">    uploader:<span class="string">'/api/uploader/cover'</span>,<span class="comment">//图片上传给谁（后台接口）</span></div><div class="line">    fileObjName:<span class="string">'cs_cover_original'</span>,<span class="comment">//图片以什么名字上传给后台</span></div><div class="line">    formData:&#123;<span class="attr">cs_id</span>:csId&#125;,<span class="comment">//传给后台的额外数据</span></div><div class="line">    buttonText:<span class="string">'上传图片'</span>,<span class="comment">//上传按钮的文本内容</span></div><div class="line">    width:<span class="number">80</span>,<span class="comment">//图片上传按钮的宽度</span></div><div class="line">    height:<span class="string">'auto'</span>,<span class="comment">//图片上传按钮的高度，auto后文字上下居中显示</span></div><div class="line">    buttonClass:<span class="string">'btn btn-success btn-sm'</span>,<span class="comment">//图片上传按钮的样式</span></div><div class="line">    itemTemplate:<span class="string">'&lt;span&gt;&lt;/span&gt;'</span>,<span class="comment">//图片上传进度条不显示</span></div><div class="line">    onUploadSuccess:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="comment">//图片上传成功执行，用第二个参数b,一共三个参数</span></div><div class="line">        <span class="keyword">var</span> obj=<span class="built_in">JSON</span>.parse(b);</div><div class="line">        <span class="built_in">console</span>.log(obj);</div><div class="line">        <span class="keyword">if</span>(obj.code==<span class="number">200</span>)&#123;</div><div class="line">            $(<span class="string">'.preview img'</span>).attr(<span class="string">'src'</span>,obj.result.path);</div><div class="line">            <span class="comment">//将图片填充到相应位置</span></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
</li>
<li></li>
</ul>
<h3 id="6-region-省级联动插件—-jQuery-自己写的"><a href="#6-region-省级联动插件—-jQuery-自己写的" class="headerlink" title="6. region 省级联动插件—-jQuery 自己写的"></a>6. region 省级联动插件—-jQuery 自己写的</h3><ul>
<li>引入JS文件<code>jquery.region.js</code></li>
<li>语法<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-5"</span> <span class="attr">id</span>=<span class="string">"pwd"</span> &gt;</span></div><div class="line"><span class="comment">&lt;!--tc_hometown:"北京市|市辖区|丰台区"--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span>  <span class="attr">id</span>=<span class="string">"p"</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>请输入省...<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"c"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>请输入市...<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span>  <span class="attr">id</span>=<span class="string">"d"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span> &gt;</span>请输入区县...<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#pwd'</span>).region(&#123;</div><div class="line">   url:<span class="string">'/public/assets/jquery-region/region.json'</span></div><div class="line">&#125;);<span class="comment">//省市区对应标签内id必须是p c d</span></div></pre></td></tr></table></figure>
<h3 id="7-CKeditor-富文本工具"><a href="#7-CKeditor-富文本工具" class="headerlink" title="7. CKeditor 富文本工具"></a>7. CKeditor 富文本工具</h3><ul>
<li>不依赖jQuery</li>
<li>引入：<ul>
<li><code>ckeditor.js</code></li>
</ul>
</li>
<li><p>语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//&lt;textarea name="cs_brief" id="editor"&gt;&#123;&#123;cs_brief&#125;&#125;&lt;/textarea&gt;</span></div><div class="line"> CKEDITOR.replace(<span class="string">'editor'</span>,&#123;<span class="comment">//配置项，可以不写</span></div><div class="line">                    toolbarGroups : [</div><div class="line">                        &#123; <span class="attr">name</span>: <span class="string">'document'</span>, <span class="attr">groups</span>: [ <span class="string">'mode'</span>, <span class="string">'document'</span>, <span class="string">'doctools'</span> ] &#125;,</div><div class="line">                        &#123; <span class="attr">name</span>: <span class="string">'basicstyles'</span>, <span class="attr">groups</span>: [ <span class="string">'basicstyles'</span>, <span class="string">'cleanup'</span> ] &#125;,</div><div class="line">                        &#123; <span class="attr">name</span>: <span class="string">'colors'</span>, <span class="attr">groups</span>: [ <span class="string">'colors'</span> ] &#125;,</div><div class="line">                        &#123; <span class="attr">name</span>: <span class="string">'about'</span>, <span class="attr">groups</span>: [ <span class="string">'about'</span> ] &#125;]</div><div class="line">                &#125;);</div><div class="line">                <span class="comment">//更新富文本内容，将iframe内容变成表单数据</span></div><div class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> instance <span class="keyword">in</span>  CKEDITOR.instances)&#123;</div><div class="line">                    CKEDITOR.instances[instance].updateElement();</div><div class="line">                &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>是标准模块，但是要把CKEDITOR导出全局</p>
<ul>
<li><code>shim:{ckeditor:{exports:&#39;CKEDITOR&#39;}}</code></li>
</ul>
</li>
</ul>
<h3 id="8-jcrop-图片裁切插件—-jQuery"><a href="#8-jcrop-图片裁切插件—-jQuery" class="headerlink" title="8. jcrop 图片裁切插件—-jQuery"></a>8. jcrop 图片裁切插件—-jQuery</h3><ul>
<li>引入文件<ul>
<li>css <code>jcrop.css</code></li>
<li>js <code>jcrop.js</code></li>
</ul>
</li>
<li>非标准模块<code>jcrop:{deps:[&#39;jquery&#39;]}</code></li>
<li>语法<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//确保裁切实例（区域）的唯一性</span></div><div class="line"><span class="keyword">var</span> nowCrop=<span class="literal">null</span>;</div><div class="line">$(<span class="string">'.preview img'</span>).Jcrop(&#123;<span class="comment">//原始图片</span></div><div class="line">          aspectRatio:<span class="number">2</span>,<span class="comment">//选区的比例2:1</span></div><div class="line">          bgOpacity:<span class="number">0.3</span>,<span class="comment">//阴影的透明度</span></div><div class="line">          boxWidth:<span class="number">400</span><span class="comment">//设置裁切时原图片的大小固定</span></div><div class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//回调函数，启用缩略图预览效果</span></div><div class="line">          <span class="comment">//销毁当前实例</span></div><div class="line">          nowCrop&amp;&amp;nowCrop.destroy();</div><div class="line">          nowCrop=<span class="keyword">this</span>;</div><div class="line">          <span class="keyword">this</span>.initComponent(<span class="string">'Thumbnailer'</span>,<span class="number">120</span>,<span class="attr">mythumb</span>:<span class="string">'.thumb'</span>&#125;);</div><div class="line">          <span class="comment">//缩略图的大小，及显示缩略图的盒子类名为thumb</span></div><div class="line">          <span class="comment">//原始图片的宽高</span></div><div class="line">          <span class="keyword">var</span> width=<span class="keyword">this</span>.ui.stage.width;</div><div class="line">          <span class="keyword">var</span> height=<span class="keyword">this</span>.ui.stage.height;</div><div class="line">          <span class="keyword">var</span> w=width;</div><div class="line">          <span class="keyword">var</span> h=height/<span class="number">2</span>;</div><div class="line">          <span class="keyword">var</span> x=<span class="number">0</span>;</div><div class="line">          <span class="keyword">var</span> y=(height-h)/<span class="number">2</span>;</div><div class="line">          <span class="comment">//根据图片宽高，确定选区的默认大小</span></div><div class="line">          <span class="keyword">this</span>.newSelection();</div><div class="line">          <span class="keyword">this</span>.setSelect([x,y,w,h]);</div><div class="line">          <span class="comment">//    监控选区变化</span></div><div class="line">          $(<span class="string">'.preview img'</span>).parent().on(<span class="string">'ccropend'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e,s,c</span>)</span>&#123;</div><div class="line">              <span class="built_in">console</span>.log(c);</div><div class="line">              <span class="comment">//   用第三隐藏表单域，并传到后台</span></div><div class="line">              <span class="keyword">var</span> input=$(<span class="string">'#cropForm input'</span>);</div><div class="line">              input.eq(<span class="number">0</span>).val(c.x);</div><div class="line">              input.eq(<span class="number">1</span>).val(c.y);</div><div class="line">              input.eq(<span class="number">2</span>).val(c.w);</div><div class="line">              input.eq(<span class="number">3</span>).val(c.h);</div><div class="line">              </div><div class="line">          &#125;)</div><div class="line">      &#125;) </div><div class="line"><span class="comment">//默认缩略图的位置在原图片所在盒子内，设置原配置可以在其他盒子</span></div><div class="line"><span class="comment">//更改配置 jcrop.js文件中搜索</span></div><div class="line"> <span class="keyword">this</span>.element = $(<span class="string">'&lt;div /&gt;'</span>).addClass(<span class="string">'jcrop-thumb'</span>)</div><div class="line">          .width(<span class="keyword">this</span>.width).height(<span class="keyword">this</span>.height)</div><div class="line">          .append(<span class="keyword">this</span>.preview)</div><div class="line">          .appendTo($(<span class="keyword">this</span>.mythumb)||<span class="keyword">this</span>.core.container);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="9-ECharts-图表插件—-必须是DOM元素"><a href="#9-ECharts-图表插件—-必须是DOM元素" class="headerlink" title="9. ECharts 图表插件—-必须是DOM元素"></a>9. ECharts 图表插件—-必须是DOM元素</h3><ul>
<li>初始化eacharts</li>
<li>引入js文件 <code>echarts.min.js</code></li>
<li>是标准模块</li>
<li>语法<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 指定图表的配置项和数据</span></div><div class="line">   <span class="keyword">var</span> option = &#123;</div><div class="line">      title: &#123;</div><div class="line">         text: <span class="string">'ECharts 入门示例'</span></div><div class="line">      &#125;,</div><div class="line">      tooltip: &#123;&#125;,</div><div class="line">      legend: &#123;</div><div class="line">         data:[<span class="string">'销量'</span>]</div><div class="line">      &#125;,</div><div class="line">      xAxis: &#123;</div><div class="line">         data: [<span class="string">"HTML"</span>,<span class="string">"CSS"</span>,<span class="string">"Mobile"</span>,<span class="string">"Angular"</span>,<span class="string">"vue"</span>,<span class="string">"Nodejs"</span>]</div><div class="line">      &#125;,</div><div class="line">      yAxis: &#123;&#125;,</div><div class="line">      series: [&#123;</div><div class="line">         name: <span class="string">'销量'</span>,</div><div class="line">         type: <span class="string">'bar'</span>,</div><div class="line">         data: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</div><div class="line">      &#125;]</div><div class="line">   &#125;;</div><div class="line"><span class="comment">//存放图标的元素，必须是DOM元素</span></div><div class="line">   <span class="keyword">var</span> main=<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line">   <span class="keyword">var</span> myChart=echarts.init(main);</div><div class="line">   myChart.setOption(option);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="10-发送ajax请求时全屏显示遮挡层"><a href="#10-发送ajax请求时全屏显示遮挡层" class="headerlink" title="10. 发送ajax请求时全屏显示遮挡层"></a>10. 发送ajax请求时全屏显示遮挡层</h3><ul>
<li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//&lt;!--遮罩--&gt;</span></div><div class="line"><span class="comment">//&lt;div class="overlay"&gt;</span></div><div class="line">  <span class="comment">//  &lt;img src="/public/images/loading.gif" alt=""&gt;</span></div><div class="line"><span class="comment">//&lt;/div&gt;</span></div><div class="line"></div><div class="line"><span class="comment">//    HTML在aside中 可以设置任意HTML文件内</span></div><div class="line">    $(<span class="built_in">document</span>).ajaxStart(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        $(<span class="string">'.overlay'</span>).show();<span class="comment">//显示遮罩</span></div><div class="line">    &#125;).ajaxStop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//等会再隐藏遮罩</span></div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            $(<span class="string">'.overlay'</span>).hide();</div><div class="line">        &#125;,<span class="number">500</span>)</div><div class="line">    &#125;)</div><div class="line"><span class="comment">//全屏显示left top bottom right=0</span></div><div class="line">.overlay &#123;</div><div class="line">  position: fixed;</div><div class="line">  left: <span class="number">0</span>;</div><div class="line">  right: <span class="number">0</span>;</div><div class="line">  top: <span class="number">0</span>;</div><div class="line">  bottom: <span class="number">0</span>;</div><div class="line">  z-index: <span class="number">999</span>;</div><div class="line">  background-color: rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</div><div class="line">  display: none;</div><div class="line">&#125;</div><div class="line">.overlay img &#123;</div><div class="line">  position: absolute;</div><div class="line">  left: <span class="number">50</span>%;</div><div class="line">  top: <span class="number">50</span>%;</div><div class="line">  width: <span class="number">100</span>px;</div><div class="line">  margin: <span class="number">-80</span>px <span class="number">0</span> <span class="number">0</span> <span class="number">-50</span>px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/02/08/nodeJS03/" >
  Node.js - Day3
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/02/08/nodeJS03/"><span class="article-date">
  2017-02-08
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Node-js/">Node.js</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h2 id="path路径处理模块"><a href="#path路径处理模块" class="headerlink" title="path路径处理模块"></a><code>path</code>路径处理模块</h2><ul>
<li>拼接路径  path.join</li>
<li>获取文件名 path.basename(path[, ext])</li>
<li>获取扩展名 path.extname(path)</li>
<li>获取文件所在路径 path.dirname(path)</li>
</ul>
<h2 id="构建基本的英雄页面并处理静态资源"><a href="#构建基本的英雄页面并处理静态资源" class="headerlink" title="构建基本的英雄页面并处理静态资源"></a>构建基本的英雄页面并处理静态资源</h2><h2 id="渲染英雄列表"><a href="#渲染英雄列表" class="headerlink" title="渲染英雄列表"></a>渲染英雄列表</h2><h2 id="展示添加英雄页面"><a href="#展示添加英雄页面" class="headerlink" title="展示添加英雄页面"></a>展示添加英雄页面</h2><h2 id="封装render函数"><a href="#封装render函数" class="headerlink" title="封装render函数"></a>封装render函数</h2><h2 id="将代码进行模块化处理"><a href="#将代码进行模块化处理" class="headerlink" title="将代码进行模块化处理"></a>将代码进行模块化处理</h2><ul>
<li>抽离<code>render</code>模块</li>
<li>抽离<code>router</code>模块</li>
<li>抽离<code>handler</code>模块</li>
<li>抽离<code>model</code>模块</li>
</ul>
<h2 id="Ajax异步post提交英雄表单数据"><a href="#Ajax异步post提交英雄表单数据" class="headerlink" title="Ajax异步post提交英雄表单数据"></a>Ajax异步post提交英雄表单数据</h2><h2 id="使用querystring模块解析表单Post提交的数据"><a href="#使用querystring模块解析表单Post提交的数据" class="headerlink" title="使用querystring模块解析表单Post提交的数据"></a>使用<code>querystring</code>模块解析表单Post提交的数据</h2><h2 id="处理查看info页面"><a href="#处理查看info页面" class="headerlink" title="处理查看info页面"></a>处理查看info页面</h2><h3 id="使用url核心模块解析处理客户端请求的URL地址"><a href="#使用url核心模块解析处理客户端请求的URL地址" class="headerlink" title="使用url核心模块解析处理客户端请求的URL地址"></a>使用<code>url</code>核心模块解析处理客户端请求的URL地址</h3><h2 id="英雄信息的编辑功能"><a href="#英雄信息的编辑功能" class="headerlink" title="英雄信息的编辑功能"></a>英雄信息的编辑功能</h2><h2 id="302重定向"><a href="#302重定向" class="headerlink" title="302重定向"></a>302重定向</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">res.writeHeader(302, &#123; &apos;Location&apos;: &apos;/&apos; &#125;);</div><div class="line">res.end();</div></pre></td></tr></table></figure>
<h2 id="封装res-json方法和res-redirect方法"><a href="#封装res-json方法和res-redirect方法" class="headerlink" title="封装res.json方法和res.redirect方法"></a>封装<code>res.json</code>方法和<code>res.redirect</code>方法</h2><h2 id="删除英雄信息"><a href="#删除英雄信息" class="headerlink" title="删除英雄信息"></a>删除英雄信息</h2><h3 id="使用同步方式删除"><a href="#使用同步方式删除" class="headerlink" title="使用同步方式删除"></a>使用同步方式删除</h3><h3 id="使用异步方式删除、结合模板引擎"><a href="#使用异步方式删除、结合模板引擎" class="headerlink" title="使用异步方式删除、结合模板引擎"></a>使用异步方式删除、结合模板引擎</h3><h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><ul>
<li><a href="https://github.com/felixge/node-formidable" target="_blank" rel="external">felixge/node-formidable</a></li>
<li><a href="https://stackoverflow.com/questions/4062260/nodejs-redirect-url" target="_blank" rel="external">Node中使用 302 重定向</a></li>
<li><a href="http://www.cnblogs.com/chyingp/p/node-learning-guide-path.html" target="_blank" rel="external">Nodejs基础：路径处理模块path总结</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FormData/Using_FormData_Objects" target="_blank" rel="external">FormData 对象的使用</a></li>
<li><a href="http://www.infoq.com/cn/articles/es6-in-depth-destructuring/" target="_blank" rel="external">深入浅出ES6（六）：解构 Destructuring</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank" rel="external">MDN - Array.prototype.some()</a></li>
<li><a href="http://www.cnblogs.com/joyho/articles/4430148.html" target="_blank" rel="external">URL中的hash（井号）</a></li>
</ul>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/01/22/nodeJS02/" >
  Node.js - Day2
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/01/22/nodeJS02/"><span class="article-date">
  2017-01-22
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Node-js/">Node.js</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h2 id="学习内容"><a href="#学习内容" class="headerlink" title="学习内容"></a>学习内容</h2><ol>
<li>了解同步和异步的区别</li>
<li>了解Node中的模块化</li>
<li>文件列表案例</li>
</ol>
<h2 id="同步和异步的对比【非阻塞I-O和阻塞I-O】"><a href="#同步和异步的对比【非阻塞I-O和阻塞I-O】" class="headerlink" title="同步和异步的对比【非阻塞I/O和阻塞I/O】"></a>同步和异步的对比【非阻塞I/O和阻塞I/O】</h2><h3 id="异步读取文件"><a href="#异步读取文件" class="headerlink" title="异步读取文件"></a>异步读取文件</h3><h3 id="异步嵌套读取文件"><a href="#异步嵌套读取文件" class="headerlink" title="异步嵌套读取文件"></a>异步嵌套读取文件</h3><h3 id="同步读取文件"><a href="#同步读取文件" class="headerlink" title="同步读取文件"></a>同步读取文件</h3><h3 id="异步和同步操作中，捕获错误的方式"><a href="#异步和同步操作中，捕获错误的方式" class="headerlink" title="异步和同步操作中，捕获错误的方式"></a>异步和同步操作中，捕获错误的方式</h3><h2 id="Node-中的模块化"><a href="#Node-中的模块化" class="headerlink" title="Node 中的模块化"></a>Node 中的模块化</h2><p><img src="/2017/01/22/nodeJS02/images/模块化房屋.jpg" alt="模块化房屋"><br><img src="/2017/01/22/nodeJS02/images/笔记本主板.jpg" alt="笔记本主板"></p>
<h3 id="什么是程序开发中的模块及好处"><a href="#什么是程序开发中的模块及好处" class="headerlink" title="什么是程序开发中的模块及好处"></a>什么是程序开发中的模块及好处</h3><ul>
<li>什么是程序开发中的模块化：把一些功能类似的代码，封装到一个单独的文件中去，这些单独抽离出来的代码文件，就能够提供各种各样好用的功能；这种通过代码功能分割文件的方式，叫做程序中的模块化；</li>
<li>好处：保证了每个文件的功能（职能）单一；需要什么特定的功能，直接调用某一个特定的模块；对将来程序开发和维护都有好处！同时也解决了全局变量污染的问题，因为每个模块都有独立的作用域；</li>
</ul>
<h3 id="【★★】Node-中如何实现模块化"><a href="#【★★】Node-中如何实现模块化" class="headerlink" title="【★★】Node 中如何实现模块化"></a>【★★】Node 中如何实现模块化</h3><p>在Node中基于CommonJS规范，通过三个东西实现模块化：</p>
<ul>
<li>module：表示一个模块，在Node中，最常见的模块，就是一个个的JS文件！</li>
<li>require：作用是加载其他模块用的；在一个JS文件中，如何引用其他JS文件中的成员呢？就是用require</li>
<li>exports：在Node的模块中，如果这个模块需要向外暴露一些成员，供其他JS模块使用，那么，需要使用exports向外暴露这些成员！</li>
</ul>
<blockquote>
<p>注意：Node 中的模块化，主要解决的JS文件之间的相互依赖关系！</p>
</blockquote>
<h3 id="【理解】Node-中的模块的分类"><a href="#【理解】Node-中的模块的分类" class="headerlink" title="【理解】Node 中的模块的分类"></a>【理解】Node 中的模块的分类</h3><p>node由三部分组成：ECMAScript + 核心API + 第三方等API</p>
<h4 id="核心模块"><a href="#核心模块" class="headerlink" title="核心模块"></a>核心模块</h4><ul>
<li>什么是核心模块：官方，发现一些功能模块使用非常频繁，然后，官方把这些模块，编译成了二进制可执行文件，然后打包到了Node的安装包中；所以，这些核心模块就已经随着安装Node时候，被安装到了本地；</li>
<li>如何使用核心模块<br>　使用require（‘核心模块的名称’）；  require(‘fs/os/http’)</li>
</ul>
<h4 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h4><ul>
<li>什么是第三方模块：出了官方提供的好用的核心模块之外，我们程序员发现，还有一些使用也很频繁的代码和方法，一些牛逼的团体、个人、公司，开发出了好用的模块，通过NPM官网，托管出去，供其他人下载使用的这些模块；统称为第三方模块；</li>
<li>如何使用第三方模块<br>　－　通过moment这个第三方模块，来介绍如何使用一个第三方模块；</li>
<li>第三方模块的使用方式：<ol>
<li>先使用npm下载这个模块！【注意：在安装第三方模块的时候，安装的名字，就是你在require时候导入的名字】</li>
<li>使用require导入这个第三方模块！</li>
<li>通过官方文档，试着去使用这个第三方模块！</li>
<li>注意：无论是核心模块、还是第三方模块，都是通过 <code>标识符名称</code>来引用这个模块的！</li>
</ol>
</li>
</ul>
<h4 id="用户模块"><a href="#用户模块" class="headerlink" title="用户模块"></a>用户模块</h4><ul>
<li>什么是用户模块：程序员自己定义的JS文件，统统数据用户模块！</li>
<li>用户模块向外导出成员的两种方式：<ul>
<li>第一种方式：使用global对象，相当于浏览器中的window对象<ul>
<li><ol>
<li>全局变量污染，</li>
</ol>
</li>
<li><ol>
<li>不知道成员是从哪个模块中暴露 出去的</li>
</ol>
</li>
</ul>
</li>
<li>推荐使用Node提供的exports方式向外暴露成员</li>
</ul>
</li>
</ul>
<h3 id="exports-和-module-exports-的区别"><a href="#exports-和-module-exports-的区别" class="headerlink" title="exports 和 module.exports 的区别"></a>exports 和 module.exports 的区别</h3><ol>
<li><p>通过 module.exports 可以使用 . 的形式追加属性，也可以使用 等号 直接赋值的形式导出成员；</p>
</li>
<li><p>exports 只能通过 . 的形式追加属性；不能使用 等号 直接赋值的形式！</p>
</li>
<li><p>注意： 在一个 module 中，最终向外暴露的成员，以 module.exports 指向的对象为准！</p>
</li>
<li><p>在一个模块中，尽量不要混合使用 <code>module.exports</code> 和 <code>exports</code></p>
</li>
</ol>
<h3 id="【了解】模块加载规则"><a href="#【了解】模块加载规则" class="headerlink" title="【了解】模块加载规则"></a>【了解】模块加载规则</h3><ol>
<li>优先从缓存中加载<ul>
<li>使用 <code>delete require.cache[__filename]</code> 来防止模块被缓存，但是一般不建议这么用，因为模块的缓存能够提高运行效率；</li>
</ul>
</li>
<li>加载核心模块:优先从缓存中加载；如果缓存中没有的话，再去执行加载核心模块！</li>
<li><p>自己的模块:优先从缓存中加载；如果缓存中没有的话，再去执行加载用户模块！</p>
<ul>
<li>用户模块的查找规则：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">用户模块的查找规则：</div><div class="line">如果不写后缀名，则先严格按照给定的文件名去查找模块并加载执行；</div><div class="line">index   -&gt;  index.js  -&gt;   index.json    -&gt;  index.node</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>第三方模块查找规则：</p>
<ol>
<li>node首先，查看项目根目录中有没有 <code>node_modules</code> 文件夹</li>
<li>查找 <code>node_modules</code> 文件夹中，有没有和第三方模块名称一致的文件夹</li>
<li>在模块对应的文件夹中，查找有没有 <code>package.json</code> 这个文件</li>
<li>在 <code>package.json</code> 文件中，查找有没有 <code>main</code> 属性</li>
<li>如果有 <code>main</code> 属性，并且 <code>main</code> 属性指向的路径存在，那么就尝试加载这个路径指定的文件！</li>
<li>如果 <code>package.json</code> 文件中，没有 <code>main</code> 属性，或者 <code>main</code> 属性指向的路径不存在，或者没有<code>package.json</code> 文件， 那么，Node尝试加载 模块根目录中 <code>index</code> 相关文件：<code>index.js</code> -&gt; <code>index.json</code> -&gt; <code>index.node</code></li>
<li>如果在<code>node_modules</code>文件夹中，找不到对应的模块文件夹，或者在项目根目录中根本没有<code>node_modules</code>文件夹，则向上一层文件夹中去查找，查找规则同上！</li>
<li>如果上一层目录中也没有查找到，则再向上翻一层去查找，直到找到当前项目所在的盘符根目录为止！</li>
<li>如果找到了盘符根目录还找不到，则报错：<code>cannot find module ***</code></li>
</ol>
</li>
</ol>
<h2 id="结合art-template模板引擎在服务器端渲染页面"><a href="#结合art-template模板引擎在服务器端渲染页面" class="headerlink" title="结合art-template模板引擎在服务器端渲染页面"></a>结合art-template模板引擎在服务器端渲染页面</h2><p><a href="https://aui.github.io/art-template/docs/" target="_blank" rel="external">art-template官方文档</a></p>
<h2 id="【了解】服务端渲染和客户端渲染的对比"><a href="#【了解】服务端渲染和客户端渲染的对比" class="headerlink" title="【了解】服务端渲染和客户端渲染的对比"></a>【了解】服务端渲染和客户端渲染的对比</h2><p><a href="https://www.cnblogs.com/" target="_blank" rel="external">博客园官网</a></p>
<ol>
<li>服务器端渲染<ul>
<li>特点：Node服务器先读取模板页面，再获取要渲染的数据，然后直接在服务器端把完整的页面渲染拼接好，然后通过网络一次性的把结果发送给浏览器去显示！【注意：通过服务器端渲染，在网络中传输的是一个真正页面】</li>
<li>优点：请求次数少，速度快，对SEO友好</li>
<li>缺点：服务器渲染压力大【在后端可以通过缓存机制去解决】</li>
</ul>
</li>
<li>客户端渲染<ul>
<li>特点：先访问服务器获取到模板页面，然后再通过Ajax获取要渲染的数据，拿到这两者之后，再客户端调用模板引擎，渲染得到模板字符串，然后通过JS的方式，把结果展示到页面上！【真正的页面是在客户端浏览器中怼出来的，在进行网络传输的时候，第一次传输的是模板页面，第二次传输的是数据】</li>
<li>优点：减轻了服务器端的渲染压力</li>
<li>缺点：请求次数多，用户体验可能没有服务器端渲染好（白屏效果）；对SEO不友好</li>
</ul>
</li>
</ol>
<h2 id="使用nodemon来自动重启Node服务"><a href="#使用nodemon来自动重启Node服务" class="headerlink" title="使用nodemon来自动重启Node服务"></a>使用<code>nodemon</code>来自动重启Node服务</h2><ol>
<li>运行<code>npm i nodemon -g</code>全局安装模块</li>
<li>使用方式 和 <code>node</code> 完全一样：<ul>
<li><code>node 要执行文件的路径</code></li>
<li><code>nodemon 要执行文件的路径</code></li>
</ul>
</li>
</ol>
<h2 id="文件列表小案例"><a href="#文件列表小案例" class="headerlink" title="文件列表小案例"></a>文件列表小案例</h2><h2 id="获取文件的属性"><a href="#获取文件的属性" class="headerlink" title="获取文件的属性"></a>获取文件的属性</h2><h2 id="【重点】在优化前-先封装一个根据指定路径读取文件内容的方法"><a href="#【重点】在优化前-先封装一个根据指定路径读取文件内容的方法" class="headerlink" title="【重点】在优化前, 先封装一个根据指定路径读取文件内容的方法"></a>【重点】在优化前, 先封装一个<code>根据指定路径读取文件内容</code>的方法</h2><h2 id="【重点】将读取文件夹的方法抽离出来，同时对error进行处理"><a href="#【重点】将读取文件夹的方法抽离出来，同时对error进行处理" class="headerlink" title="【重点】将读取文件夹的方法抽离出来，同时对error进行处理"></a>【重点】将读取文件夹的方法抽离出来，同时对error进行处理</h2><h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><ol>
<li><a href="https://aui.github.io/art-template/" target="_blank" rel="external">art-template 官方文档</a></li>
<li><a href="http://www.infoq.com/cn/articles/es6-in-depth-template-string" target="_blank" rel="external">ES6 - 模板字符串</a></li>
<li><a href="http://www.cnblogs.com/xljzlw/p/3694861.html" target="_blank" rel="external">js中的数组对象排序</a></li>
<li><a href="https://github.com/i5ting/tocmd.npm" target="_blank" rel="external">i5ting/tocmd.npm 将MD转换为HTML</a></li>
<li><a href="https://www.zhihu.com/question/20298345" target="_blank" rel="external">JavaScript 语句后应该加分号么？</a></li>
</ol>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/01/10/正则表达式/" >
  正则表达式
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/01/10/正则表达式/"><span class="article-date">
  2017-01-10
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/正则表达式/">正则表达式</a></li></ul>
	</span>


        

      </div>
      <div class="article-entry">
        
          <h3 id="常用的基本元字符"><a href="#常用的基本元字符" class="headerlink" title="常用的基本元字符"></a>常用的基本元字符</h3><h4 id="nbsp-nbsp-表示除了-n换行符以为的任意一个字符"><a href="#nbsp-nbsp-表示除了-n换行符以为的任意一个字符" class="headerlink" title=".  &nbsp;&nbsp;表示除了\n换行符以为的任意一个字符"></a>.  &nbsp;&nbsp;表示除了\n换行符以为的任意一个字符</h4><h4 id="nbsp-nbsp-表示一个区域"><a href="#nbsp-nbsp-表示一个区域" class="headerlink" title="[ ] &nbsp;&nbsp;表示一个区域"></a>[ ] &nbsp;&nbsp;表示一个区域</h4><ul>
<li>[a-z]表示a-z之间的任意一个即所有小写字母中的任意一个</li>
<li>[A-Z] 表示大写字母中的任意一个</li>
<li>[a-zA-Z]表示字母中的任意一个</li>
<li>[0-9]表示任意一个数字</li>
</ul>
<h4 id="n-nbsp-nbsp-表示前面的字符刚刚发生了n次"><a href="#n-nbsp-nbsp-表示前面的字符刚刚发生了n次" class="headerlink" title="{n} &nbsp;&nbsp; 表示前面的字符刚刚发生了n次"></a>{n} &nbsp;&nbsp; 表示前面的字符刚刚发生了n次</h4><h4 id="nbsp-nbsp-表示前面的表达式出现了0次货多次-0，"><a href="#nbsp-nbsp-表示前面的表达式出现了0次货多次-0，" class="headerlink" title="* &nbsp;&nbsp;表示前面的表达式出现了0次货多次{0，}"></a>* &nbsp;&nbsp;表示前面的表达式出现了0次货多次{0，}</h4><h4 id="nbsp-nbsp-表示前面的表达式出现了1次到多次-1，"><a href="#nbsp-nbsp-表示前面的表达式出现了1次到多次-1，" class="headerlink" title="+ &nbsp;&nbsp;表示前面的表达式出现了1次到多次{1，}"></a>+ &nbsp;&nbsp;表示前面的表达式出现了1次到多次{1，}</h4><h4 id="？-nbsp-nbsp-表示前面的表达式出现了0次到1次-0，1"><a href="#？-nbsp-nbsp-表示前面的表达式出现了0次到1次-0，1" class="headerlink" title="？&nbsp;&nbsp; 表示前面的表达式出现了0次到1次{0，1}"></a>？&nbsp;&nbsp; 表示前面的表达式出现了0次到1次{0，1}</h4><h4 id="d-nbsp-nbsp-表示任意的数字-0-9"><a href="#d-nbsp-nbsp-表示任意的数字-0-9" class="headerlink" title="\d &nbsp;&nbsp;表示任意的数字 [0-9]"></a>\d &nbsp;&nbsp;表示任意的数字 [0-9]</h4><h4 id="D-nbsp-nbsp-表示任意的非数字-0-9"><a href="#D-nbsp-nbsp-表示任意的非数字-0-9" class="headerlink" title="\D &nbsp;&nbsp;表示任意的非数字 [^0-9]"></a>\D &nbsp;&nbsp;表示任意的非数字 [^0-9]</h4>
          <p>
            <a href="/2017/01/10/正则表达式/">
              Read More
            </a>
          </p>
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/12/11/nodeJS01/" >
  Node.js01
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/12/11/nodeJS01/"><span class="article-date">
  2016-12-11
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Node-js/">Node.js</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h1 id="Node-js-Day1"><a href="#Node-js-Day1" class="headerlink" title="Node.js - Day1"></a>Node.js - Day1</h1><h2 id="8天课程介绍"><a href="#8天课程介绍" class="headerlink" title="8天课程介绍"></a>8天课程介绍</h2><ol>
<li>了解Node基本的概念</li>
<li>学习基本的API使用：文件操作API、网络操作API等…  NodeJS 拓展了 Javascript 的编程能力；</li>
<li>使用Node创建Web服务器并掌握后台中MVC三层架构</li>
<li>学习Express框架  基于NodeJS提供的平台，做了进一步的封装，方便我们去快速的开发网站！！！</li>
<li>学习Sql数据库存储网站数据 写Sql语句、创建 数据库、表、字段</li>
<li>学习Cookie、Session、分页（对于前端，怎么分页？？？有相关的插件，对于后端：分页就是一条Sql语句的事情）</li>
<li>中间穿插讲解ES6的新特性</li></ol>
          <p>
            <a href="/2016/12/11/nodeJS01/">
              Read More
            </a>
          </p>
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/12/10/web适配/" >
  viewpoint
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/12/10/web适配/"><span class="article-date">
  2016-12-10
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web适配/">web适配</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h3 id="viewport"><a href="#viewport" class="headerlink" title="viewport"></a>viewport</h3><ul>
<li>在移动端用来承载网页的区域，而且是虚拟的区域，叫做<strong>视觉窗口</strong>，视口—viewpoint</li>
<li>定义一个viewpoint ：<ul>
<li>标准化设置：<br><code>&lt;meta name=&quot;viewpoint&quot; content=&#39;width=device-width,inital-scale=1.0,user-scable=0&#39;&gt;</code></li>
</ul>
</li>
<li>快捷键：<strong>meta:vp</strong></li>
<li>非标准化设置：<ul>
<li>淘宝</li>
<li>iphone4 <code>&lt;meta name=&quot;viewpoint&quot; content=&#39;width=device-width,inital-scale=0.5,user-scable=0&#39;&gt;</code></li>
<li>iphone6 plus <code>&lt;meta name=&quot;viewpoint&quot; content=&#39;width=device-width,inital-scale=0.333333,user-scable=0&#39;&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h3><ul>
<li>移动端css3属性都再用-webkit写一遍</li>
<li>-webkit-tap-highlight-color:transparent 清除点击出现高亮效果</li>
<li>-webkit-appearance:none 清除默认立体阴影效果</li>
<li>主流的设计稿有750px和640px 750px是iphone6的物理像素，也叫屏幕分辨率。所以这里只是泛指移动端设计稿是按照设备的物理像素所给 一般UI设计师做手机端的UI图，一般都会提供2倍图，</li>
</ul>
<h3 id="touch事件组"><a href="#touch事件组" class="headerlink" title="touch事件组"></a>touch事件组</h3><ul>
<li>touchstart</li>
<li>touchmove</li>
<li>touchend</li>
<li>touchcancel  被迫终止时触发，如来个电话</li>
<li>绑定 addEventListener</li>
</ul>
<h3 id="触摸点-和屏幕接触的点集合"><a href="#触摸点-和屏幕接触的点集合" class="headerlink" title="触摸点  和屏幕接触的点集合"></a>触摸点  和屏幕接触的点集合</h3><ul>
<li>通过事件对象e获取 返回TouchEvent对象</li>
<li>changeTouchs 页面上改变了的触摸点集合 无到有有到无位置改变 start move和end都记录</li>
<li>targetTouchs 目标元素上的触摸点集合 end不记录</li>
<li>touchs 页面上的所有触摸点集合 end不记录</li>
<li>三个坐标<ul>
<li>DOM中获取坐标用 — <code>e.touches[0].clientX</code></li>
<li>jquery中—- <code>e.originalEvent.touches[0].clientX</code></li>
<li>e.clientX和e.clientX</li>
<li>e.screenX和e.screenY</li>
<li>e.pageX和e.pageY</li>
</ul>
</li>
<li>transitionend过渡结束事件 animationend 动画结束事件</li>
</ul>
<h3 id="tap事件-—zepto-js支持"><a href="#tap事件-—zepto-js支持" class="headerlink" title="tap事件 —zepto.js支持"></a>tap事件 —zepto.js支持</h3><ul>
<li>原生js不支持，touch衍生来的</li>
<li>比click响应快150ms</li>
<li>click在移动端有300ms的延迟，PC端没有</li>
<li>不能滑动+响应在150ms为tap</li>
<li>获取1970年至今的时间，两种方法<ul>
<li><code>Date.now()</code></li>
<li><code>+ new Date()</code></li>
</ul>
</li>
<li>工作中使用zepto.js或fastclick.js插件使click事件响应速度提高</li>
</ul>
<h3 id="swipe-事件-—zepto-js支持"><a href="#swipe-事件-—zepto-js支持" class="headerlink" title="swipe 事件- —zepto.js支持"></a>swipe 事件- —zepto.js支持</h3><ul>
<li>swipeLeft</li>
<li>swipeRight</li>
<li>swipeUp</li>
<li>swipeDown 下滑</li>
<li>一定滑动过且距离在50px以上</li>
</ul>
<h3 id="全屏容器"><a href="#全屏容器" class="headerlink" title="全屏容器"></a>全屏容器</h3><ul>
<li>由于默认情况下body和HTML的高度为0，解决办法</li>
<li><ol>
<li><code>position：absolute/fixed; height=100%;</code> 此时定位就基于浏览器即window，就可以全屏</li>
</ol>
</li>
<li><ol>
<li><code>html,body{height:100%;}</code></li>
</ol>
</li>
</ul>
<h3 id="左右自适应布局"><a href="#左右自适应布局" class="headerlink" title="左右自适应布局"></a>左右自适应布局</h3><ul>
<li><code>float:left+overflow:hidden</code></li>
</ul>
<h3 id="iscroll-js插件"><a href="#iscroll-js插件" class="headerlink" title="iscroll.js插件"></a>iscroll.js插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> IScroll(rightBox,&#123;<span class="comment">//rightBox为手势容器</span></div><div class="line">    scrollY: <span class="literal">true</span>,</div><div class="line">    scrollX:<span class="literal">false</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h3><ul>
<li>设备分类<ul>
<li>超小屏设备（移动端）—0&lt;768px—-容器版心：屏幕宽度</li>
<li>小屏设备（pad）—-768px&lt;992px—-容器版心750px</li>
<li>中屏设备（大屁股电脑、标屏显示器正方形的）—992px&lt;1200px—容器版心970px</li>
<li>大屏设备（笔记本、宽屏显示器长方形的）—&gt;1200px —-容器版心1170px</li>
</ul>
</li>
</ul>
<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><ul>
<li>@media(min-width:768px) and (max-width:992px) {}</li>
</ul>

        
      </div>
    </div>

  
    </div>
  



  <div class="pagination">
    <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/">Next</a>
  </div>




          <div class="main-footer">
  
    © 2017 风之翼 - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
